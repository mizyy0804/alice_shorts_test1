<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alice in Feed</title>
    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons (CDN) -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* ê¸°ë³¸ ë§ˆìš°ìŠ¤ ì»¤ì„œ ìˆ¨ê¸°ê¸° */
        body {
            cursor: none; 
        }
        
        /* ì»¤ì„œ ì´ë¯¸ì§€ ìŠ¤íƒ€ì¼ */
        #custom-cursor {
            position: fixed;
            top: 0;
            left: 0;
            /* [ìˆ˜ì •] ì»¤ì„œ í¬ê¸°ë¥¼ 50px -> 150pxë¡œ í¬ê²Œ í‚¤ì› ìŠµë‹ˆë‹¤. 
               ë” í¬ê²Œ í•˜ê³  ì‹¶ìœ¼ì‹œë©´ ì´ ìˆ«ìë¥¼ ëŠ˜ë ¤ì£¼ì„¸ìš”! (ì˜ˆ: 200px, 300px) */
            width: 150px; 
            height: auto;
            pointer-events: none; /* í´ë¦­ì´ ì´ë¯¸ì§€ì— ë§‰íˆì§€ ì•Šê³  í†µê³¼ë˜ë„ë¡ ì„¤ì • (ì¤‘ìš”!) */
            z-index: 9999; /* í•­ìƒ ë§¨ ìœ„ì— ë³´ì´ë„ë¡ */
            transform: translate(-50%, -50%); /* ë§ˆìš°ìŠ¤ í¬ì¸íŠ¸ê°€ ì´ë¯¸ì§€ ì¤‘ì•™ì— ì˜¤ë„ë¡ */
            transition: transform 0.1s ease-out; /* ì•½ê°„ì˜ ë”œë ˆì´ë¡œ ë¶€ë“œëŸ¬ìš´ ëŠë‚Œ (ì„ íƒì‚¬í•­) */
        }

        /* ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¸°ê¸° */
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        
        /* ì•¨ë²” ì•„íŠ¸ íšŒì „ ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow { animation: spin-slow 6s linear infinite; }

        /* í…ìŠ¤íŠ¸ íë¥´ê¸° ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes marquee {
            0% { transform: translateX(100%); }
            100% { transform: translateX(-100%); }
        }
        .animate-marquee {
            display: inline-block;
            animation: marquee 10s linear infinite;
        }
        
        /* ë¹„ë©”ì˜¤ iframe ë°˜ì‘í˜• ì²˜ë¦¬ */
        .vimeo-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none; /* ë¹„ë©”ì˜¤ ìì²´ í´ë¦­ ë°©ì§€ */
            z-index: 0;
        }
        .vimeo-wrapper iframe {
            width: 100%;
            height: 100%;
            min-width: 177.77vh;
            min-height: 56.25vw; 
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }
    </style>
</head>
<body class="flex justify-center items-center min-h-screen bg-black font-sans text-white m-0 p-0">

    <!-- ì»¤ì„œìš© GIF ì´ë¯¸ì§€ -->
    <img id="custom-cursor" src="./cursor.gif" alt="Custom Cursor">

    <!-- ëª¨ë°”ì¼ ì»¨í…Œì´ë„ˆ -->
    <div class="relative w-full max-w-md h-[100dvh] overflow-hidden bg-black shadow-2xl cursor-none"> <!-- cursor-none í´ë˜ìŠ¤ ì¶”ê°€ -->
        
        <!-- ìƒë‹¨ í—¤ë” -->
        <div class="absolute top-0 left-0 right-0 z-20 pt-4 pb-2 flex justify-center items-center space-x-4 bg-gradient-to-b from-black/40 to-transparent">
            <button class="text-base font-semibold text-gray-300 opacity-70 hover:text-white hover:scale-105 transition-all cursor-none">íŒ”ë¡œì‰</button>
            <div class="w-[1px] h-4 bg-white/30"></div>
            <button class="text-base font-semibold text-white scale-105 drop-shadow-md cursor-none">ì¶”ì²œ</button>
            <div class="absolute right-4 top-4">
                <i data-lucide="search" class="w-6 h-6 text-white drop-shadow-md"></i>
            </div>
        </div>

        <!-- ë©”ì¸ ë¹„ë””ì˜¤ í”¼ë“œ -->
        <div id="feed-container" class="w-full h-full overflow-y-scroll snap-y snap-mandatory scrollbar-hide scroll-smooth">
            <!-- JSë¡œ ë¹„ë””ì˜¤ ì•„ì´í…œë“¤ì´ ì—¬ê¸°ì— ì¶”ê°€ë©ë‹ˆë‹¤ -->
        </div>

        <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ ë°” -->
        <div class="absolute bottom-0 left-0 right-0 bg-black border-t border-white/10 h-16 flex justify-between items-center px-4 z-20">
            <div class="nav-item flex flex-col items-center justify-center text-white cursor-none">
                <i data-lucide="home" class="w-6 h-6"></i>
                <span class="text-[10px] mt-1 font-medium">í™ˆ</span>
            </div>
            <div class="nav-item flex flex-col items-center justify-center text-gray-500 hover:text-gray-300 cursor-none">
                <i data-lucide="search" class="w-6 h-6"></i>
                <span class="text-[10px] mt-1 font-medium">ì¹œêµ¬</span>
            </div>
            <!-- ì—…ë¡œë“œ ë²„íŠ¼ -->
            <div class="flex items-center justify-center w-12 h-8 mx-2 cursor-none relative group">
                <div class="absolute left-0 w-full h-full bg-cyan-400 rounded-lg transform -translate-x-[3px]"></div>
                <div class="absolute right-0 w-full h-full bg-red-500 rounded-lg transform translate-x-[3px]"></div>
                <div class="relative w-full h-full bg-white rounded-lg flex items-center justify-center z-10">
                    <i data-lucide="plus" class="text-black w-5 h-5 font-bold"></i>
                </div>
            </div>
            <div class="nav-item flex flex-col items-center justify-center text-gray-500 hover:text-gray-300 cursor-none">
                <i data-lucide="message-circle" class="w-6 h-6"></i>
                <span class="text-[10px] mt-1 font-medium">ì•Œë¦¼</span>
            </div>
            <div class="nav-item flex flex-col items-center justify-center text-gray-500 hover:text-gray-300 cursor-none">
                <i data-lucide="user" class="w-6 h-6"></i>
                <span class="text-[10px] mt-1 font-medium">í”„ë¡œí•„</span>
            </div>
        </div>
    </div>

    <script>
        // ì»¤ì„œ ì¶”ì  ìŠ¤í¬ë¦½íŠ¸
        const cursor = document.getElementById('custom-cursor');

        document.addEventListener('mousemove', (e) => {
            // ë§ˆìš°ìŠ¤ ì¢Œí‘œì— ë”°ë¼ ì´ë¯¸ì§€ ìœ„ì¹˜ ì—…ë°ì´íŠ¸
            cursor.style.left = e.clientX + 'px';
            cursor.style.top = e.clientY + 'px';
        });

        // ë§ˆìš°ìŠ¤ê°€ í™”ë©´ ë°–ìœ¼ë¡œ ë‚˜ê°”ì„ ë•Œ ìˆ¨ê¸°ê¸° (ì„ íƒì‚¬í•­)
        document.addEventListener('mouseleave', () => {
            cursor.style.display = 'none';
        });
        document.addEventListener('mouseenter', () => {
            cursor.style.display = 'block';
        });

        // Lucide ì•„ì´ì½˜ ì´ˆê¸°í™”
        lucide.createIcons();

        const videos = [
            {
                id: 1,
                type: "vimeo", // ë¹„ë©”ì˜¤ íƒ€ì… ì§€ì •
                username: "alice_lisa",
                description: "ì´ê²Œ ë§ì•„? ìê¾¸ í°ë§Œ ë³´ê²Œ ë¼... ğŸŒ€ #wasterland #rabbit_hole",
                music: "Original Sound - Alice",
                likes: "1.2K",
                comments: "402",
                shares: "125",
                videoUrl: "https://player.vimeo.com/video/1138358847?badge=0&autopause=0&player_id=0&app_id=58479&background=1", 
                userAvatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=Alice"
            },
            {
                id: 2,
                type: "file",
                username: "speed_cooking",
                description: "30ì´ˆ ì•ˆì— ë§Œë“œëŠ” ì•¼ì‹ ğŸ” ë°°ê³ í”„ì§€?",
                music: "Yummy - Cooking BGM",
                likes: "854K",
                comments: "2.1K",
                shares: "5.2K",
                videoUrl: "https://assets.mixkit.co/videos/preview/mixkit-hands-preparing-a-delicious-dish-42844-large.mp4",
                userAvatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=Cook"
            },
            {
                id: 3,
                type: "file",
                username: "puppy_lover",
                description: "ì‚°ì±… ê°€ìê³  ì¡°ë¥´ëŠ” ëŒ•ëŒ•ì´ ğŸ¶",
                music: "Happy Dog - BGM World",
                likes: "2.5M",
                comments: "10K",
                shares: "45K",
                videoUrl: "https://assets.mixkit.co/videos/preview/mixkit-dog-catching-a-ball-in-a-pool-42886-large.mp4",
                userAvatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=Buster"
            }
        ];

        const container = document.getElementById('feed-container');

        // HTML ë Œë”ë§ í•¨ìˆ˜
        videos.forEach(video => {
            const el = document.createElement('div');
            el.className = "relative w-full h-full snap-start snap-always bg-black video-item overflow-hidden";
            
            let mediaHtml = '';
            if (video.type === 'vimeo') {
                mediaHtml = `
                    <div class="vimeo-wrapper">
                        <iframe src="${video.videoUrl}" frameborder="0" allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
                    </div>
                `;
            } else {
                mediaHtml = `
                    <div class="w-full h-full bg-black">
                        <video src="${video.videoUrl}" class="w-full h-full object-cover" loop muted playsinline></video>
                    </div>
                `;
            }

            el.innerHTML = `
                ${mediaHtml}
                <div class="absolute right-2 bottom-20 flex flex-col items-center space-y-6 z-10 pb-4">
                    <div class="relative group cursor-pointer"> <!-- cursor-pointerì§€ë§Œ ì‹¤ì œë¡  none ì²˜ë¦¬ë¨ -->
                        <div class="w-12 h-12 rounded-full border-2 border-white p-[1px] overflow-hidden">
                            <img src="${video.userAvatar}" class="w-full h-full object-cover bg-gray-500">
                        </div>
                        <div class="absolute -bottom-2 left-1/2 transform -translate-x-1/2 bg-red-500 rounded-full w-5 h-5 flex items-center justify-center text-white shadow-sm">
                            <i data-lucide="plus" class="w-3 h-3"></i>
                        </div>
                    </div>
                    <div class="flex flex-col items-center cursor-pointer like-btn">
                        <div class="p-2 rounded-full bg-transparent transition-all duration-200">
                            <i data-lucide="heart" class="w-8 h-8 text-white drop-shadow-lg transition-colors"></i>
                        </div>
                        <span class="text-xs font-medium drop-shadow-md">${video.likes}</span>
                    </div>
                    <div class="flex flex-col items-center cursor-pointer">
                        <div class="p-2">
                            <i data-lucide="message-circle" class="w-8 h-8 text-white drop-shadow-lg"></i>
                        </div>
                        <span class="text-xs font-medium drop-shadow-md">${video.comments}</span>
                    </div>
                    <div class="flex flex-col items-center cursor-pointer">
                        <div class="p-2">
                            <i data-lucide="share-2" class="w-8 h-8 text-white drop-shadow-lg"></i>
                        </div>
                        <span class="text-xs font-medium drop-shadow-md">${video.shares}</span>
                    </div>
                    <div class="relative mt-4 animate-spin-slow">
                        <div class="w-10 h-10 rounded-full bg-gray-800 border-4 border-gray-700 flex items-center justify-center overflow-hidden">
                            <img src="${video.userAvatar}" class="w-full h-full object-cover opacity-70">
                        </div>
                    </div>
                </div>
                <div class="absolute bottom-0 left-0 right-0 p-4 pb-20 bg-gradient-to-t from-black/80 via-black/30 to-transparent pt-20 pointer-events-none">
                    <div class="flex flex-col items-start space-y-2 max-w-[80%] pointer-events-auto">
                        <h3 class="font-bold text-base drop-shadow-md text-white">@${video.username}</h3>
                        <p class="text-sm text-gray-100 leading-snug drop-shadow-md">${video.description}</p>
                        <div class="flex items-center space-x-2 mt-1 bg-white/20 px-3 py-1 rounded-full backdrop-blur-sm cursor-pointer">
                            <i data-lucide="music" class="w-3 h-3 text-white"></i>
                            <div class="text-xs font-medium overflow-hidden w-32 whitespace-nowrap text-white">
                                <span class="animate-marquee">${video.music}</span>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            container.appendChild(el);
        });

        lucide.createIcons();

        document.querySelectorAll('.like-btn').forEach(btn => {
            btn.addEventListener('click', function() {
                const svg = this.querySelector('svg');
                if(svg.classList.contains('text-red-500')) {
                    svg.classList.remove('text-red-500', 'fill-red-500');
                    svg.classList.add('text-white');
                } else {
                    svg.classList.remove('text-white');
                    svg.classList.add('text-red-500', 'fill-red-500');
                }
            });
        });

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                const video = entry.target.querySelector('video');
                if (video) {
                    if (entry.isIntersecting) {
                        video.currentTime = 0;
                        video.play();
                    } else {
                        video.pause();
                    }
                }
            });
        }, { threshold: 0.6 });

        document.querySelectorAll('.video-item').forEach(item => {
            observer.observe(item);
        });
    </script>
</body>
</html>
